<head>
  <title>log-viewer</title>
</head>

<body>
  <div class="container">
    <header>
      <h1>Log viewer</h1>
    </header>

    <h2>Watched files</h2>
    <form class="new-file">
      Select new log file to watch<br/>
      <input type="text" name="filePath" placeholder="Full file path" />
      <input type="text" name="alias" placeholder="Short name (optional)" />
      <select name="logPattern">
        {{#each logPatterns}}
          {{> logPattern}}
        {{/each}}
      </select>
      <input type="submit" value="OK" name="submit" />
    </form>
    <ul>
      {{#each watchedFiles}}
        {{> watchedFile}}
      {{/each}}
    </ul>
 
    {{#each logs}}
    	{{> log}}
    {{/each}}

  </div>
</body>

<template name="logPattern">
  <option value="{{_id}}">{{name}}</option>
</template>

<template name="watchedFile">
  <li>
    <button class="delete">&times;</button>
    {{filePath}}
  </li>
</template>
 
<template name="log">
  <div class="log-entry">
    {{#each text}}
      {{this}}<br/>
    {{/each}}
  </div>
  <br/>
</template>
